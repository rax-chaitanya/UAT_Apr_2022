<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>BDR_has_Created_a_new_ABM_Task</fullName>
        <description>BDR has Created a new ABM Task</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/New_Task_Created_by_SDR</template>
    </alerts>
    <alerts>
        <fullName>Pegasus_Task_alert</fullName>
        <description>Pegasus Task alert</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Share_All/Corporate_Strategy_Customer_Conversations</template>
    </alerts>
    <alerts>
        <fullName>Task_Assigned_to_ISR</fullName>
        <description>Task Assigned to ISR</description>
        <protected>false</protected>
        <recipients>
            <recipient>deep.sharma@rackspace.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>divjot.kaur@rackspace.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>gagandeep.singh2@rackspace.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>mitali.deshmukh@rackspace.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>namita.hindwani@rackspace.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>rishita.mukherjee@rackspace.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Task_Assigned_to_ISR_Template</template>
    </alerts>
    <alerts>
        <fullName>Task_Status_Update</fullName>
        <description>Task Status Update</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <senderAddress>emailalert@sf.rackspace.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>unfiled$public/Task_Status_Update_Notification</template>
    </alerts>
    <fieldUpdates>
        <fullName>Auto_Assign_to_Salesbroom_Users</fullName>
        <description>Assign specific type of tasks to Salesbroom user - Samuel KJ.</description>
        <field>OwnerId</field>
        <lookupValue>vikas.dalal@rackspace.com</lookupValue>
        <lookupValueType>User</lookupValueType>
        <name>Auto Assign to Salesbroom Users</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Task_Activity_Type</fullName>
        <field>Activity_Type__c</field>
        <formula>TEXT(Type)</formula>
        <name>Task Activity Type</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <outboundMessages>
        <fullName>NewSfdcToFusion_CreateTask</fullName>
        <apiVersion>38.0</apiVersion>
        <description>New Salesforce to FMW Integration (Task) - Create action to Create Task in OldSalesforce.</description>
        <endpointUrl>https://qa-raxfusion-a425146.integration.us2.oraclecloud.com:443/integration/flowsvc/salesforce/CREATELEGACYTASK/v01/</endpointUrl>
        <fields>ActSubType__c</fields>
        <fields>ActivityDate</fields>
        <fields>CallDisposition</fields>
        <fields>CallDurationInSeconds</fields>
        <fields>CallObject</fields>
        <fields>CallType</fields>
        <fields>City_of_Visit__c</fields>
        <fields>CurrencyIsoCode</fields>
        <fields>Description</fields>
        <fields>EngContinue__c</fields>
        <fields>EngValue__c</fields>
        <fields>ExecEngDate__c</fields>
        <fields>Focus_Area_Discussion_s__c</fields>
        <fields>Id</fields>
        <fields>Key_Executive_Attending__c</fields>
        <fields>Last_Invoice_Amount__c</fields>
        <fields>Lookup_Ids__c</fields>
        <fields>NextEng__c</fields>
        <fields>NextExecRev__c</fields>
        <fields>NextStep__c</fields>
        <fields>Next_Steps_Expected_Completion_Date__c</fields>
        <fields>Next_Steps_Notes__c</fields>
        <fields>ObjMet__c</fields>
        <fields>Primary_Objective_of_Visit_Notes__c</fields>
        <fields>Primary_Objective_of_Visit__c</fields>
        <fields>Priority</fields>
        <fields>Racker_s_Partcipating__c</fields>
        <fields>RecurrenceInterval</fields>
        <fields>RecurrenceRegeneratedType</fields>
        <fields>SLT_Attendance_Needed__c</fields>
        <fields>SME_Resources_Engaged__c</fields>
        <fields>Scheduled_Visit_End_Date__c</fields>
        <fields>Scheduled_Visit_Start_Date__c</fields>
        <fields>Status</fields>
        <fields>Subject</fields>
        <fields>Support_Sub_Segment__c</fields>
        <fields>TaskObj__c</fields>
        <fields>TaskSubtype</fields>
        <fields>Type</fields>
        <fields>Visit_Title__c</fields>
        <fields>Visit_Type__c</fields>
        <includeSessionId>false</includeSessionId>
        <integrationUser>sfdc_tes_admin@rackspace.com</integrationUser>
        <name>NewSfdcToFusion-CreateTask</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <outboundMessages>
        <fullName>NewSfdcToFusion_UpdateTask</fullName>
        <apiVersion>38.0</apiVersion>
        <description>New Salesforce to FMW Integration (Task) - Update action to UpdateTask in OldSalesforce.</description>
        <endpointUrl>https://maskedraxfusion-a425146.integration.us2.oraclecloud.com:443/integration/flowsvc/salesforce/UPDATELEGACYTASK/v01/</endpointUrl>
        <fields>ActSubType__c</fields>
        <fields>ActivityDate</fields>
        <fields>CallDisposition</fields>
        <fields>CallDurationInSeconds</fields>
        <fields>CallObject</fields>
        <fields>CallType</fields>
        <fields>City_of_Visit__c</fields>
        <fields>CurrencyIsoCode</fields>
        <fields>Description</fields>
        <fields>EngContinue__c</fields>
        <fields>EngValue__c</fields>
        <fields>ExecEngDate__c</fields>
        <fields>Focus_Area_Discussion_s__c</fields>
        <fields>Id</fields>
        <fields>Key_Executive_Attending__c</fields>
        <fields>Last_Invoice_Amount__c</fields>
        <fields>Lookup_Ids__c</fields>
        <fields>NextEng__c</fields>
        <fields>NextExecRev__c</fields>
        <fields>NextStep__c</fields>
        <fields>Next_Steps_Expected_Completion_Date__c</fields>
        <fields>Next_Steps_Notes__c</fields>
        <fields>ObjMet__c</fields>
        <fields>Primary_Objective_of_Visit_Notes__c</fields>
        <fields>Primary_Objective_of_Visit__c</fields>
        <fields>Priority</fields>
        <fields>Racker_s_Partcipating__c</fields>
        <fields>RecurrenceInterval</fields>
        <fields>RecurrenceRegeneratedType</fields>
        <fields>SLT_Attendance_Needed__c</fields>
        <fields>SME_Resources_Engaged__c</fields>
        <fields>Scheduled_Visit_End_Date__c</fields>
        <fields>Scheduled_Visit_Start_Date__c</fields>
        <fields>Status</fields>
        <fields>Subject</fields>
        <fields>Support_Sub_Segment__c</fields>
        <fields>TaskObj__c</fields>
        <fields>TaskSubtype</fields>
        <fields>Type</fields>
        <fields>Visit_Title__c</fields>
        <fields>Visit_Type__c</fields>
        <includeSessionId>false</includeSessionId>
        <integrationUser>sfdc_tes_admin@rackspace.com</integrationUser>
        <name>NewSfdcToFusion-UpdateTask</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <rules>
        <fullName>ABM Call Task Created by BDR</fullName>
        <actions>
            <name>BDR_has_Created_a_new_ABM_Task</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Task.Type</field>
            <operation>equals</operation>
            <value>ABM Call</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.RecordTypeId</field>
            <operation>equals</operation>
            <value>Standard Task</value>
        </criteriaItems>
        <description>when a BDR creates an ABM task for reps, email alert fires off letting them know.</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Activity Type Update based on Task Type</fullName>
        <actions>
            <name>Task_Activity_Type</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Type</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <description>To populate standard type field from task  to Activity obj task for using in reports.</description>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Auto Assign to Salesbroom Users</fullName>
        <actions>
            <name>Auto_Assign_to_Salesbroom_Users</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Type</field>
            <operation>equals</operation>
            <value>Account Linkage Update Needed,Company Firmographic Update,Company Firmographic Update Request,Data Type</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Subject</field>
            <operation>equals</operation>
            <value>Account Linkage Update Needed,Company Firmographic Update Request</value>
        </criteriaItems>
        <description>Assign specific type of tasks to Salesbroom user - Samuel KJ.</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>NewSfdcToFusion-CreateTask</fullName>
        <actions>
            <name>NewSfdcToFusion_CreateTask</name>
            <type>OutboundMessage</type>
        </actions>
        <active>false</active>
        <description>New Salesforce to FMW Integration (Task) - Create action to Create Task in NewSalesforce.</description>
        <formula>AND ( NOT ( CONTAINS($Label.SkipUserIDs,$User.Id) ), OR ( REGEX( LEFT(Lookup_Ids__c,3), &quot;.*001|a01|003|006|a1n|a1O|a0O|a0d|a1K|a02|a0t|a0m|00Q|a1n|a1m|701|00v.*&quot; ), REGEX(Lookup_Ids__c, &quot;.*(,001|,a01|,003|,006|,a1n|,a1O|,a0O|,a0d|,a1K|,a02|,a0t|,a0m|,00Q|,a1n|,a1m|,701|,00v).*&quot;) ) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>NewSfdcToFusion-UpdateTask</fullName>
        <actions>
            <name>NewSfdcToFusion_UpdateTask</name>
            <type>OutboundMessage</type>
        </actions>
        <active>false</active>
        <description>New Salesforce to FMW Integration (Task) - Update action to Update Task in NewSalesforce.</description>
        <formula>NOT(CONTAINS($Label.SkipUserIDs,$User.Id))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Pegasus Task Reminder</fullName>
        <actions>
            <name>Pegasus_Task_alert</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Subject</field>
            <operation>equals</operation>
            <value>July – Corporate Strategy Customer Conversations</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Status</field>
            <operation>equals</operation>
            <value>Not Started</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.IsReminderSet</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Tasks for ISR</fullName>
        <actions>
            <name>Task_Assigned_to_ISR</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.OwnerId</field>
            <operation>equals</operation>
            <value>UK_MM_ISRs</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
</Workflow>
